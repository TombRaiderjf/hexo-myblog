---
title: SIFT特征检测
date: 2017-10-22 22:25:43
tags: SIFT特征
categories: 机器视觉
mathjax: true
---

*SIFT（Scale-invariant Feature Transform）*
# SIFT特征检测的特点

* 对旋转，尺度缩放，亮度变化保持不变性，对视角变化，仿射变换，噪声也保持一定程度的稳定性
* 信息量丰富，适用于在海量特征数据库中进行匹配
* 多量性，少数物体也可以产生大量SIFT特征
* 高速性，经优化的SIFT匹配算法甚至可以达到实时性

# SIFT特征检测的步骤

1.	检测尺度空间的极值点
2.	精确定位特征点
3.	设定特征点的方向参数
4.	生成特征点的描述子（128维向量）

## 检测尺度空间的极值点

### 什么是尺度（Scale）？

直观地来说，对于一张4K分辨率的照片而言，如果它的像素数目被不断压缩（或者观察者距离照片越来越远），它将逐渐变得模糊，而这个导致照片的呈现内容发生变化的连续的自变量就可以称为尺度。人类知觉中的一种现象可以作为一个例子——整体优先效应。观察距离远的时候，看到的是小字母组成的大字母，而距离近的时候，看到的则是小字母们。因此，对物体观察的尺度不同，物体呈现的方式也不同。对计算机视觉而言，无法预知某种尺度的物体结构是否有意义，因此有必要将所有尺度的结构表示出来。
<img src="/img/整体优先效应.png" width="300">

### 尺度空间

通过尺度空间理论模拟图像数据的多尺度特征，做特征检测的目的是找到图像中稳定而又明确的一些特征量（类似矩阵特征值的感觉），那么从对图像直观的理解来看，它的确有这样一些特征，尤其是让人判断两幅图片拍摄的是否为同一个场景时，他绝不是挨个像素做比较的
高斯函数是实现尺度变换的唯一线性核（其他核会对图像造成模糊之外的其他影响），xy是尺度坐标，$\sigma$决定图像的平滑程度，越大越平滑
$$L(x,y,\sigma)=I(x,y)*g(x,y,\sigma), \quad g(x,y,\sigma)=\frac{1}{2\pi \sigma^2} e^{-\frac{x^2+y^2}{2 \sigma^2}}$$
**高斯差分（DoG）尺度空间**——用于在尺度空间中检测稳定的关键点，下图左是高斯尺度空间，从下到上按照$\sigma$递减的顺序排列，右侧是将相邻尺度的图像做差得到的差分尺度空间
$$D(x,y,\sigma)=(g(x,y,k \sigma)-g(x,y,\sigma))*I(x,y)=L(x,y,k \sigma)-L(x,y,\sigma)$$
<img src="/img/差分尺度空间.png" width="500">


### 步骤

**构建图像金字塔**，金字塔的数目和每个塔的层数（一般3-5层）由图像的尺寸决定，图像像素越多自然可以分更多个塔。左侧分别为三组按尺度顺序排列的高斯尺度空间，塔每增加一个，图像尺寸缩减为1/4，第二塔的第一层由第一塔的第四层将采样得到，以此类推得到每一个塔的第一层，右侧是相邻尺度的图像的差分结果，即为所需的尺度空间
<img src="/img/图像金字塔.png" width="500">

**极值点检测**——在构造的差分尺度空间中检测局部极大值/极小值点
如下图所示检测尺度空间中的每个像素点，与其同尺度的八个相邻点，上下相邻尺度对应的18个点，共26个点进行比较，以确保在尺度空间和二维图像空间都是极值点
<img src="/img/检测极值点.png" width="300">
描述极值点：$(x,y,\sigma)$二维图像坐标和尺度空间坐标

## 精确定位极值点

$D(x,y,\sigma)$表示高斯差分尺度空间的值，设$X=\begin{bmatrix} x&y& \sigma \end{bmatrix} ^T$


参考文献：http://blog.csdn.net/tanxinwhu/article/details/7048370